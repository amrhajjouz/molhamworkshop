<page-header title="قائمة الحالات" pretitle="الحالات">
    <a href="{{ $r('cases.add') }}" class="btn btn-primary"> <i class="fe fe-plus"></i>&nbsp; حالة جديدة </a>
</page-header>

<datatable datalist="cases">
    <table>
        <thead>
            <tr>
                <th class="text-center">#</th>
                <th class="text-center">الاسم</th>
                <th class="text-center">الرقم التسلسلي</th>
                <th class="text-center">الحالة</th>
                <th class="text-center">خيارات</th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="case in cases.data">
                <td class="align-middle text-center">{{ case.id }}</td>
                <td class="align-middle text-center">{{ case.beneficiary_name }}</td>
                <td class="align-middle text-center">{{ case.serial_number }}</td>
                <td class="align-middle text-center">
                    <span class="badge badge-soft-info" ng-if="case.status =='unfunded'"><i class="fe fe-x"></i>غير مكفولة</span>
                    <span class="badge badge-soft-success" ng-if="case.status =='funded'"><i class="fe fe-check"></i>تم كفالتها</span>
                    <span class="badge badge-soft-danger" ng-if="case.status =='canceled'"><i class="fe fe-x"></i>ملغاة</span>
                    <span class="badge badge-soft-secondary" ng-if="case.status =='spent'"><i class="fe fe-check"></i>تم صرفها</span>
                </td>
                <td class="align-middle text-center h2">
                    <dropdown>
                        <dropdown-item href="{{ $r('cases.overview', {id: case.id}) }}"><i class="fe fe-eye"></i> نظرة عامة</dropdown-item>
                        <dropdown-item href="{{ $r('cases.edit', {id: case.id}) }}"><i class="fe fe-edit-2"></i> تعديل</dropdown-item>
                        <dropdown-item href="#" ng-show="!case.target.hidden" ng-click="hideTargetRequest(case.target_id)"><i class="fe fe-eye-off"></i> إخفاء</dropdown-item>
                        <dropdown-item href="#" ng-show="case.target.hidden" ng-click="unHideTargetRequest(case.target_id)"><i class="fe fe-rotate-cw"></i> إظهار</dropdown-item>
                        <dropdown-item href="#" ng-show="!case.target.archived" ng-click="archiveTargetRequest(case.target_id)" ng-click=""><i class="fe fe-archive"></i> أرشفة</dropdown-item>
                        <dropdown-item href="#" ng-show="case.target.archived" ng-click="unArchiveTargetRequest(case.target_id)" ng-click=""><i class="fe fe-arrow-left"></i> إلغاء الأرشفة</dropdown-item>
                        <dropdown-item href="#" ng-show="!case.target.documented" ng-click="documentTargetRequest(case.target_id)" ng-click=""><i class="fe fe-check"></i> توثيق</dropdown-item>
                        <dropdown-item href="#" ng-show="case.target.documented" ng-click="unDocumentTargetRequest(case.target_id)" ng-click=""><i class="fe fe-shield-off"></i> إلغاء التوثيق</dropdown-item>
                        <dropdown-item href="#" ng-show="!case.target.posted_at" ng-click="postTargetRequest(case.target_id)" ng-click=""><i class="fe fe-share"></i> نشر</dropdown-item>
                    </dropdown>
                </td>
            </tr>
        </tbody>
    </table>
</datatable>
